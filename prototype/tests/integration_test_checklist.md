# 기억의 전당포 - 통합 테스트 체크리스트

## 테스트 환경
- Godot 4.x
- Windows 11
- 해상도: 1920x1080 (기본)

---

## 1. 타이틀 화면 테스트

### 1.1 UI 요소
- [ ] 게임 타이틀 표시 확인
- [ ] "새 게임" 버튼 표시 및 클릭 가능
- [ ] "이어하기" 버튼 (저장 데이터 있을 때만 visible)
- [ ] "설정" 버튼 표시 및 클릭 가능
- [ ] "종료" 버튼 표시 및 클릭 가능
- [ ] 저장 정보 레이블 (저장 데이터 있을 때 표시)

### 1.2 기능 테스트
- [ ] "새 게임" → GameManager 초기화 → pawnshop 씬 전환
- [ ] "이어하기" → SaveManager.load_game() → 올바른 상태 복원
- [ ] "설정" → settings_menu 팝업
- [ ] "종료" → 게임 종료

---

## 2. 전당포 화면 테스트

### 2.1 UI 요소
- [ ] Day 표시 레이블 (Day X / 7)
- [ ] 평판 바 3개 (자비/정의/이윤)
- [ ] 뉴스 티커 스크롤 애니메이션
- [ ] 대기열 인디케이터 (남은 손님 수)
- [ ] "손님 기다리기" 버튼
- [ ] "다음 날" 버튼 (손님 모두 완료 후)
- [ ] 네온 사인 애니메이션

### 2.2 손님 시스템
- [ ] Day 1: 민지 등장
- [ ] Day 2: 김 상병, 하늘 등장
- [ ] Day 3: 이 교수, 강 회장 등장
- [ ] Day 4: 민지 어머니 등장 (민지 기억 매입 시)
- [ ] Day 5: 김수연 (여동생) 등장
- [ ] 손님별 포트레잇 정상 로드

### 2.3 뉴스 티커
- [ ] 기본 뉴스 표시 (날짜별)
- [ ] 선택 결과에 따른 뉴스 추가
- [ ] 스크롤 애니메이션 무한 루프

---

## 3. 대화 시스템 테스트

### 3.1 UI 요소
- [ ] 대화 패널 표시
- [ ] 캐릭터 이름 표시
- [ ] 대화 텍스트 타이핑 효과
- [ ] 선택지 버튼 (분기점에서)
- [ ] 캐릭터 포트레잇 표시
- [ ] 감정 변화 애니메이션

### 3.2 대화 분기
- [ ] JSON 대화 정상 로드
- [ ] 분기 선택 → 올바른 경로 진행
- [ ] 신뢰도 변화 반영
- [ ] discovered_flags 업데이트
- [ ] 대화 종료 후 퍼즐/선택 씬 전환

---

## 4. 기억 퍼즐 테스트

### 4.1 UI 요소
- [ ] 퍼즐 조각 표시
- [ ] 타겟 영역 표시
- [ ] 타이머 표시 (난이도 2 이상)
- [ ] 진행률 표시
- [ ] 완료 버튼

### 4.2 난이도별 테스트
- [ ] 난이도 1: 4조각, 시간제한 없음
- [ ] 난이도 2: 6조각, 미끼 조각, 120초
- [ ] 난이도 3: 8조각, 조각 희미해짐, 90초

### 4.3 기능 테스트
- [ ] 드래그 앤 드롭 정상 작동
- [ ] 정답 위치 스냅
- [ ] 완료 검증 (위치, 각도)
- [ ] 타임아웃 처리
- [ ] 결과에 따른 스토리 분기

---

## 5. 저장/불러오기 테스트

### 5.1 자동 저장
- [ ] 하루 종료 시 자동 저장
- [ ] 손님 완료 시 저장
- [ ] 저장 파일 생성 확인 (user://savegame.json)

### 5.2 수동 저장/불러오기
- [ ] 설정 저장 (볼륨, 텍스트 속도)
- [ ] 게임 불러오기 후 상태 복원:
  - [ ] current_day 복원
  - [ ] reputation 복원
  - [ ] completed_customers 복원
  - [ ] customer_results 복원
  - [ ] unlocked_flags 복원

---

## 6. 설정 메뉴 테스트

### 6.1 UI 요소
- [ ] BGM 볼륨 슬라이더 + 값 표시
- [ ] SFX 볼륨 슬라이더 + 값 표시
- [ ] 텍스트 속도 슬라이더 + 속도 텍스트
- [ ] 전체화면 토글
- [ ] 적용 버튼
- [ ] 닫기 버튼

### 6.2 기능 테스트
- [ ] BGM 볼륨 조절 즉시 반영
- [ ] SFX 볼륨 조절 + 테스트 효과음
- [ ] 텍스트 속도 변경 저장
- [ ] 전체화면 토글 즉시 반영
- [ ] ESC 키로 닫기
- [ ] 설정 저장 후 재시작 시 복원

---

## 7. 엔딩 시스템 테스트

### 7.1 평판 기반 엔딩 (Tier 1)
- [ ] 자비로운 전당포지기 (mercy >= 70)
- [ ] 정의로운 전당포지기 (justice >= 70)
- [ ] 냉철한 전당포지기 (profit >= 70)

### 7.2 스토리 기반 엔딩 (Tier 2)
- [ ] 기억 해방자 (liberator) - 네오코프 진실 폭로
- [ ] 잊혀진 자 (forgotten) - 자신의 기억 삭제
- [ ] 귀환자 (return) - 가족과 재회

### 7.3 히든 엔딩 (Tier 3)
- [ ] 완벽한 기억 (perfect) - 모든 손님 최적 결과
- [ ] 새로운 시작 (new_start) - 모든 기억 리셋

### 7.4 엔딩 화면 요소
- [ ] 엔딩 일러스트 표시
- [ ] 엔딩 타이틀 표시
- [ ] 엔딩 설명 텍스트
- [ ] 에필로그 텍스트
- [ ] 최종 평판 수치
- [ ] 타이틀로 돌아가기 버튼

---

## 8. 오디오 테스트

### 8.1 BGM
- [ ] 타이틀 BGM 재생
- [ ] 전당포 BGM 재생
- [ ] 대화 중 BGM 유지
- [ ] 엔딩 BGM 전환

### 8.2 SFX
- [ ] 버튼 클릭음
- [ ] 버튼 호버음
- [ ] 손님 입장음
- [ ] 퍼즐 조각 이동음
- [ ] 퍼즐 완료음

---

## 9. 전체 플레이스루 테스트

### 9.1 Day 1-7 완주
- [ ] 모든 손님 대화 정상 진행
- [ ] 모든 퍼즐 완료 가능
- [ ] 모든 선택지 작동
- [ ] 뉴스 티커 결과 연동
- [ ] 평판 변화 누적

### 9.2 다회차 테스트
- [ ] 다른 선택 → 다른 엔딩 도달
- [ ] 히든 엔딩 조건 확인

---

## 10. 에러 및 예외 처리

### 10.1 파일 로드 실패
- [ ] 대화 JSON 없을 때 폴백
- [ ] 포트레잇 이미지 없을 때 기본 이미지
- [ ] 저장 파일 손상 시 처리

### 10.2 씬 전환
- [ ] 모든 씬 전환 정상 작동
- [ ] 메모리 누수 확인

---

## 테스트 결과 요약

| 카테고리 | 통과 | 실패 | 미테스트 |
|---------|------|------|---------|
| 타이틀 화면 | | | |
| 전당포 화면 | | | |
| 대화 시스템 | | | |
| 기억 퍼즐 | | | |
| 저장/불러오기 | | | |
| 설정 메뉴 | | | |
| 엔딩 시스템 | | | |
| 오디오 | | | |
| 전체 플레이스루 | | | |
| 에러 처리 | | | |

**총 테스트 항목**: ___
**통과**: ___
**실패**: ___
**비율**: ___%

---

## 버그 리포트

| # | 심각도 | 카테고리 | 설명 | 재현 방법 | 상태 |
|---|--------|---------|------|----------|------|
| 1 | | | | | |
| 2 | | | | | |

---

## 테스트 일자
- 초기 테스트: ____년 __월 __일
- 재테스트: ____년 __월 __일
- 최종 승인: ____년 __월 __일
